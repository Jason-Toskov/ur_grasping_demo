<launch>
  
  <include file="$(find ur_robot_driver)/launch/ur3e_bringup.launch">
    <arg name="robot_ip" value="192.168.0.100"/>
    <arg name="kinematics_config" value="$(find ur_grasping)/cfg/ur3e_calibration.yaml"/>
    <arg name="headless_mode" value="true"/>
  </include>

  <include file="$(find ur_grasping)/launch/cam_pose_publisher.launch"/>

  <include file="$(find ur3e_moveit_config)/launch/moveit_planning_execution.launch"/>

  <include file="$(find ur_grasping)/launch/realsense_processor.launch"/>

  <node name="rviz" pkg="rviz" type="rviz" args="-d $(find ur_grasping)/cfg/moveit.rviz" required="true" />

  <node name="gripper_control" pkg="ur_grasping" type="rg2_control.py"/>

  <node name="detect_grasps" pkg="gpd_ros" type="detect_grasps" output="screen">
    <param name="cloud_type" value="0" />
    <param name="cloud_topic" value="/cloud_stitched" />
    <param name="config_file" value="/home/jason/catkin_ws/src/ur_grasping/cfg/gpd_ros_eigen_params.cfg" />
    <param name="rviz_topic" value="plot_grasps" />
  </node>

</launch>